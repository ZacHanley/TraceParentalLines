#load list of stage 2 codes and their PedigreeItems
St2codes_to_GroupCodes20150724 <- read.csv("~/R/St2codes_to_GroupCodes20150724.csv")
#loop them all for a dadlist
alldads <- matrix(ncol=2)
for (i in 1:nrow(St2codes_to_GroupCodes20150724)) {
  st2PedId <- as.character(St2codes_to_GroupCodes20150724[i,2])
  print(i) #progressforerrorchecking
  ped <- EBridaPedigree(crpId=5,PI=st2PedId)
  ped[is.na(ped)] <- c("none") #prevents an empty pedigree killing then loop
  dadline <- ped$male[!is.na(ped$male)]
  newdadline <- cbind(st2PedId,dadline)
  alldads <- rbind(alldads,newdadline)
    }
#clean up
alldads <- alldads[-c(1),]
#rm(i,st2PedId,ped,dadline,newdadline)
#output
#write.csv(alldads, file="alldads.csv")
